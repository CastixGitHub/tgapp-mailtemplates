<html py:extends="master.xhtml" py:strip="True">
<head py:block="head" py:strip="True">
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" py:if="False"/>
    <title py:block="master_title">Welcome to TurboGears pluggable Application</title>
    <link rel="stylesheet" type="text/css" media="screen" href="${tg.url('/_pluggable/mailtemplates/css/style.css')}" />
</head>

<body py:block="body" py:strip="True">
    <span class="mail-templates-title">Dashboard MailTemplates</span>
    <a href="" class="pull-right">Add Model</a>
    <div class="row">
        <div class="col-md-12">
            <div py:for="model in mail_models" class="panel panel-primary panel-model ${model.name}-class">
              <!-- Default panel contents -->
              <div class="panel-heading">${model.name}</div>
              <div class="panel-body">
                <p>${model.usage}</p>
              </div>
              <!-- Table -->
              <table class="table card-table">
                <tbody>
                    <tr py:for="translation in model.template_translations">

                        <td>
                            ${translation.language}
                        </td>
                        <td>
                            <b>${translation.subject}</b>
                        </td>
                        <td class="body-preview">
                            <a href="${tg.url('/mailtemplates/mail_model', params=dict(id=model._id, translation=translation._id))}" class="btn btn-primary btn-edit"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</a><pre class="scrollable"> ${translation.body}</pre>
                        </td>
                    </tr>
                <tr>
                    <td colspan="3"><a href="">Add translation</a> </td>
                </tr>
                </tbody>
            </table>
            </div>


        </div>
    </div>
</body>
</html>
